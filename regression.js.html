<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>regression.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<div id="main">
    
    <h1 class="page-title">regression.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';
const n = require('numeric');

module.exports = {
  defaultLambda: 0.0,

  /**
   * Compute regression error for a set of samples (objective)
   * @note See [Eqn 6]
   * @param  {array}  w   (aka betas or coefficients): array of betas to
   *                          correspond to each xVal.
   * @param  {array}  xVals   2D array where each sub-array contains all xVals
   *                          for a single sample in the same order as
   *                          initialMVals
   * @param  {array}  yVals   array of y values for each sample in xVals
   * @param  {number} lambda
   * @return {number} error score
   */
  objective(w, xVals, yVals, lambda) {
    lambda = lambda || this.defaultLambda;
    return n.sum(n.pow(n.sub(yVals, n.dot(xVals, w)), 2)) + (lambda * n.dot(w, w) / 2);
  },

  /**
   * Compute the local gradient of the object function
   * @note See [Eqn 9]
   * @param  {array}  w   (aka betas or coefficients): array of betas to
   *                          correspond to each xVal.
   * @param  {array}  xVals   2D array where each sub-array contains all xVals
   *                          for a single sample in the same order as
   *                          initialMVals
   * @param  {array}  yVals   array of y values for each sample in xVals
   * @param  {number} lambda
   * @return {array}  gradient values for each mVal
   */
  gradient(w, X, y, lambda) {
    lambda = lambda || this.defaultLambda;
    return n.add(
      n.mul(
        -2,
        n.dot(n.transpose(X), n.sub(y, n.dot(X, w)))
      ),
      n.mul(lambda, w)
    );
  },

  /**
   * minimize a set of regressors against the objective function and
   * response set
   * @param  {array} initialMVals initial regressor values
   * @param  {array} xVals    2D array where each sub-array contains all xVals
   *                          for a single sample in the same order as
   *                          initialMVals
   * @param  {array}  yVals   array of y values for each sample in xVals
   * @return {array}  w in same order as initialMVals
   */
  oneShot(initialMVals, xVals, yVals) {
    return n.uncmin((w) => this.objective(w, xVals, yVals), initialMVals).solution;
  },

  /**
   * calculate new w based on previous w, gradients and a learningRate
   * @param  {number} learningRate    the rate applied to the gradient
   * @param  {array} w            the previous w which gradients were
   *                                  calculated from
   * @param  {array} gradients        the gradients calculated from the w
   * @return {array}                  the new w (betas)
   */
  recalculateMVals(learningRate, w, gradients) {
    return n.sub(w, n.dot(learningRate, gradients));
  },

  /**
   * Apply w (aka coefficients or betas) to x values, then sum results
   * eg `y = m1 * x1 + m2 * x2...`
   * @param  {array} w array of coefficents (betas)
   * @param  {array} xVals       array of x values
   * @return {number}             result (y value)
   */
  applyModel(w, xVals) {
    return n.dot(xVals, w);
  },

};
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
